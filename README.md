# MyMMOrpgSystem
これは私が趣味で開発したMMORPGのプロトタイプシステムです。（某プルストーリーをイメージしています）  
動作上の不具合などがたくさんあります。決して悪意のあるコードは書いたつもりはありませんが、いかなる責任は取れません。また、本コードの改造は行ってもかまいません。  
このシステムはLAN内の通信しかできません。


# 実装においてこだわったこと
## サーバの1対n通信の高速化
簡単な実装ではn個のクライアントと通信する場合、nスレッドを実行して1スレッドが1クライアントとの通信をを担当することが多いです。しかし、スレッド管理のボトルネックが膨大になり、結果的に対応できるクライアント数が減ってしまします。  
このシステムでは、シングルスレッドで多数のクライアントと通信するようにしています。書籍「オンラインゲームを支える技術」を参考にしました。  

## なるべくチートができないよう、全ての更新はサーバが担当
チートはクライアントプログラムがゲームに関わるデータを持っているために発生します（と思ってます）。そのため、このシステムではクライアントプログラムはゲームに関わるデータを持ってません。  
クライアントが通信する内容は「今自分の攻撃力は1億というデータ」ではなく「今どのボタンを押したか」であり、その返しとしてサーバから「次のゲーム状態」を受信します。この実装により、チートをできないようにしています。（ただしチャット内容だけは生データを送信しています）


# MyMMOrpgSystemの注意事項
・ゲームをプレイするにはゲームプログラム内でIDとPWを登録する必要がありますが、暗号化通信をしていないため流出してもかまわないものを設定してください。  
・本システムは動作が不安定です。たまに無限ループ、描画の不具合などが発生しますが、その際はプログラムを強制終了してください。  
・ゲーム上の全てのデータはサーバプログラムが持っていますが、サーバプログラムを終了すると全データが消えます。ご注意ください。


# MyMMOrpgSystemの実行方法
まず、全ての.javaファイルをコンパイルしてください。java1.8.0_131で動作確認しております。 

次に、接続先のIPアドレスを設定します。サーバプログラムを実行するマシンを決めた後、クライアント側はそのIPアドレスを以下のファイルに書き込みます。（デフォルトではlocalhostとなっています）  
016Netoge_ver2/src/Address.txt  


最後にサーバープログラムを起動し、その後クライアントプログラムを起動してください。  
各プログラムの起動方法は以下のとおりです。  
・クライアントプログラム：016Netoge_ver2/srcからjavac main.Mainコマンドを実行してください。  
・サーバープログラム：017NetogeServer_ver2/srcからjavac netogeserver.NetogeServerコマンドを実行してください。  


# MyMMOrpgSystemの遊び方
このゲームは3つのシーンに分かれていますので、それぞれについて解説します。  
### タイトルシーン
ログインと会員登録ができます。  
ログイン：既にIDを作成している場合はIDとPWを入力しログインボタンを押すとログインできます。  
会員登録：会員登録ボタンを押した後、IDとPWを入力し登録ボタンを押すと完了します。  

### キャラクタ選択シーン
キャラクタの作成と選択ができます。キャラは最大3つまで作成できます。  
キャラクタの作成：空のスロットを選択してキャラ作成ボタンを押します。指定の項目を設定した後に作成ボタンを押すと完了します。（キャラクタは大きすぎないようにお願いします。不具合あり）  
キャラクタの選択：プレイするキャラクタのスロットを選択し、ゲームスタートボタンを押すとゲームが開始します。  


### ゲームシーン
実際のゲームプレイシーンです。  

#### このゲームの目的
敵を狩りレベル上げを楽しむことです。一度死ぬとキャラが削除され、ログアウトボタンもありません。  
ちなみに、ログアウトしたいときは、OSのウィンドウの×ボタンを押すかプログラムを強制終了してください。  

#### 操作方法
矢印キー：キャラクタの移動  
xキー：弾を発射  
zキー：NPCと会話（NPCに近づく必要がある）
ESCキー：メニューの表示  
Enterキー：チャットの表示、非表示

#### 出来ること
・敵を倒す  
・お金を拾う（お金（黄色い丸）に触れると拾います）  
・ショップでアイテムを買う（ショップは最初のマップにいます）  
・マップ移動（青い線に触れるとマップ移動します）  
・ステータス振り（レベルアップで得られるポイントを、各ステータスに降ることができます。メニューからステータスを選択してください）  
・アイテムの使用（アイテムをダブルクリックすると使用します。メニューからアイテムを選択してください）  



